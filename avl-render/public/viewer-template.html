<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LEDWALL STAND LEDWALL 5×2m — Stand Tecnico AVL</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #0d1117; color: #c9d1d9; height: 100vh; overflow: hidden; }
    .layout { display: flex; height: 100vh; }
    #panel-left { width: 280px; flex-shrink: 0; padding: 20px 16px; background: #161b22; border-right: 1px solid #30363d; font-size: 12px; overflow-y: auto; }
    #panel-left h2 { color: #58a6ff; margin-bottom: 10px; font-size: 14px; }
    #panel-left .lbl { color: #8b949e; }
    #panel-left .val { color: #c9d1d9; }
    #panel-left .sep { height: 1px; background: #30363d; margin: 8px 0; }
    .main { flex: 1; display: flex; flex-direction: column; min-width: 0; }
    #view3d-section { height: 50vh; min-height: 280px; max-height: 500px; background: #0d1117; border-bottom: 1px solid #30363d; position: relative; }
    #view3d-section .section-label { position: absolute; top: 8px; left: 16px; font-size: 11px; color: #58a6ff; text-transform: uppercase; z-index: 2; }
    #view3d { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: #eef1f6; }
    .tabs { display: flex; gap: 1px; background: #161b22; border-bottom: 1px solid #30363d; flex-shrink: 0; }
    .tabs button { flex: 1; padding: 10px 16px; background: #0d1117; border: none; border-bottom: 2px solid transparent; color: #8b949e; cursor: pointer; font-size: 13px; }
    .tabs button:hover { color: #c9d1d9; background: #161b22; }
    .tabs button.active { color: #58a6ff; border-bottom-color: #58a6ff; background: #161b22; }
    .tab-content { flex: 1; overflow: auto; background: #0d1117; }
    .tab-pane { display: none; padding: 16px; }
    .tab-pane.active { display: block; }
    .view-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: #161b22; border-bottom: 1px solid #30363d; flex-shrink: 0; }
    .view-header .view-title { font-size: 14px; font-weight: 600; color: #58a6ff; }
    .view-header .view-actions { display: flex; align-items: center; gap: 8px; }
    .btn-download { padding: 6px 14px; background: #21262d; border: 1px solid #30363d; color: #58a6ff; cursor: pointer; font-size: 12px; border-radius: 6px; }
    .btn-download:hover { background: #30363d; }
    .zoom-controls { display: flex; gap: 2px; }
    .zoom-controls button { width: 32px; height: 28px; background: #21262d; border: 1px solid #30363d; color: #58a6ff; cursor: pointer; font-size: 16px; font-weight: bold; border-radius: 4px; }
    .zoom-controls button:hover { background: #30363d; }
    .drawing-wrap { text-align: center; padding: 16px; overflow: auto; }
    .drawing-wrap img { max-width: 100%; height: auto; border-radius: 6px; border: 1px solid #30363d; transition: transform 0.15s ease; transform-origin: center center; }
    .footer { flex-shrink: 0; font-size: 10px; color: #484f58; padding: 6px 16px; background: #161b22; border-top: 1px solid #30363d; text-align: right; }
  </style>
</head>
<body>
  <div class="layout">
    <div id="panel-left"><h2>▸ DATI TECNICI</h2><span class="lbl">Progetto: </span><span class="val">—</span><br><div class="sep"></div></div>
    <div class="main">
      <div id="view3d-section"><span class="section-label">Modello 3D</span><div id="view3d"></div></div>
      <div class="tabs">
        <button data-tab="frontale" class="active">Frontale</button>
        <button data-tab="posteriore">Posteriore</button>
        <button data-tab="laterale">Laterale</button>
        <button data-tab="pianta">Pianta</button>
      </div>
      <div class="tab-content">
        <div id="pane-frontale" class="tab-pane active">
          <div class="view-header">
            <span class="view-title">Vista Frontale (faccia LED)</span>
            <div class="view-actions">
              <div class="zoom-controls"><button data-zoom-out="img-frontale" aria-label="Zoom out">−</button><button data-zoom-in="img-frontale" aria-label="Zoom in">+</button></div>
              <button class="btn-download" data-download="img-frontale" data-filename="Vista_Frontale.png">⬇ Scarica PNG</button>
            </div>
          </div>
          <div class="drawing-wrap"><img id="img-frontale" src="{{PNG_FRONTALE}}" alt="Vista Frontale" data-zoom="1" /></div>
        </div>
        <div id="pane-posteriore" class="tab-pane">
          <div class="view-header">
            <span class="view-title">Vista Posteriore (struttura)</span>
            <div class="view-actions">
              <div class="zoom-controls"><button data-zoom-out="img-posteriore" aria-label="Zoom out">−</button><button data-zoom-in="img-posteriore" aria-label="Zoom in">+</button></div>
              <button class="btn-download" data-download="img-posteriore" data-filename="Vista_Posteriore.png">⬇ Scarica PNG</button>
            </div>
          </div>
          <div class="drawing-wrap"><img id="img-posteriore" src="{{PNG_POSTERIORE}}" alt="Vista Posteriore" data-zoom="1" /></div>
        </div>
        <div id="pane-laterale" class="tab-pane">
          <div class="view-header">
            <span class="view-title">Vista Laterale</span>
            <div class="view-actions">
              <div class="zoom-controls"><button data-zoom-out="img-laterale" aria-label="Zoom out">−</button><button data-zoom-in="img-laterale" aria-label="Zoom in">+</button></div>
              <button class="btn-download" data-download="img-laterale" data-filename="Vista_Laterale.png">⬇ Scarica PNG</button>
            </div>
          </div>
          <div class="drawing-wrap"><img id="img-laterale" src="{{PNG_LATERALE}}" alt="Vista Laterale" data-zoom="1" /></div>
        </div>
        <div id="pane-pianta" class="tab-pane">
          <div class="view-header">
            <span class="view-title">Vista Pianta</span>
            <div class="view-actions">
              <div class="zoom-controls"><button data-zoom-out="img-pianta" aria-label="Zoom out">−</button><button data-zoom-in="img-pianta" aria-label="Zoom in">+</button></div>
              <button class="btn-download" data-download="img-pianta" data-filename="Vista_Pianta.png">⬇ Scarica PNG</button>
            </div>
          </div>
          <div class="drawing-wrap"><img id="img-pianta" src="{{PNG_PIANTA}}" alt="Vista Pianta" data-zoom="1" /></div>
        </div>
      </div>
      <div class="footer">AVL_LEDWALL5x2_ — 02/2026</div>
    </div>
  </div>
  <script src="three.min.js"></script>
  <script>
    const P = { LED_W: 5, LED_H: 2, LED_H_ACTIVE: 1.5, LED_W_ACTIVE: 5, CAB: 0.5, CAB_W: 0.5, CAB_H: 0.5, CAB_D: 0.08, CAB_ROWS: 4, CAB_COLS: 10, DEAD_ROWS: 0, DEAD_COLS: 0, BOT_BAR: 0.1, LEG_X: [0.5, 2.5, 5, 7.5, 9.5], LEG_H: 2, LEG_ARM: 0.42, QX: 0.29, QX_DEPTH: 0.29, TRUSS_DEPTH: 0.29, IS_FLAT: false, BASE_PLATE_W: 0.33, BASE_PLATE_D: 0.48, CHORD_R: 0.025, DIAG_R: 0.009, Z_LED_BACK: 0.08, Z_GAP: 0.15, TUBE_R: 0.025 };
    P.Z_TF = P.Z_LED_BACK + P.Z_GAP; P.Z_TC = P.Z_TF + (P.TRUSS_DEPTH || P.QX_DEPTH) / 2; P.Z_TB = P.Z_TF + (P.TRUSS_DEPTH || P.QX_DEPTH); P.Z_ARM_C = P.Z_TB + P.LEG_ARM / 2; P.QH = P.IS_FLAT ? P.QX_DEPTH / 2 : P.QX / 2; P.Z_TUBE = P.Z_TF - 0.03; P.TUBE_Y = [0.5, 1.0, 1.5];
    document.querySelectorAll('.tabs button').forEach(btn => { btn.addEventListener('click', () => { document.querySelectorAll('.tabs button').forEach(b => b.classList.remove('active')); document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active')); btn.classList.add('active'); document.getElementById('pane-' + btn.dataset.tab).classList.add('active'); }); });
    document.querySelectorAll('[data-download]').forEach(btn => { btn.addEventListener('click', () => { const img = document.getElementById(btn.dataset.download); if (!img || !img.src || img.src.indexOf('data:') !== 0) return; const a = document.createElement('a'); a.href = img.src; a.download = btn.dataset.filename || 'download.png'; document.body.appendChild(a); a.click(); document.body.removeChild(a); }); });
    const ZOOM_STEP = 0.25, ZOOM_MIN = 0.5, ZOOM_MAX = 3;
    document.querySelectorAll('[data-zoom-in], [data-zoom-out]').forEach(btn => { btn.addEventListener('click', () => { const imgId = btn.dataset.zoomIn || btn.dataset.zoomOut; const img = document.getElementById(imgId); if (!img) return; let zoom = parseFloat(img.dataset.zoom || '1'); zoom = btn.dataset.zoomIn ? Math.min(ZOOM_MAX, zoom + ZOOM_STEP) : Math.max(ZOOM_MIN, zoom - ZOOM_STEP); img.dataset.zoom = String(zoom); img.style.transform = 'scale(' + zoom + ')'; }); });
  </script>
</body>
</html>